<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: global.js</title>
    
    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">
    
    <h1 class="page-title">Source: global.js</h1>
    
    


    
    <section>
        <article>
            <pre class="prettyprint source"><code>//JavaScript Document

var DB_SIZE = 1000000,
REMOTE_PATH = 'http://killit.atsolinc.com/',
DATA_THEME = 'c',
c = 299792458, // m/s
user = {authed: false, username: null, passHash: null}; 

var db = new resultsDatabase(); 
db.initDb(DB_SIZE);

//Global initialization functions here
$(document).bind("mobileinit", function(){
	$.mobile.loader.prototype.options.text = "Loading...";
	$.mobile.loader.prototype.options.textVisible = false;
	$.mobile.loader.prototype.options.theme = "a";
	$.mobile.loader.prototype.options.html = "";
	$.support.cors = true;
 $.mobile.allowCrossDomainPages = true; 
	$.mobile.defaultPageTransition = 'slide'; 
	$.mobile.pushStateEnabled = false;
});
		
function detectDevice(){
	var deviceIphone = "iphone";
	var deviceIpod = "ipod";
	var deviceIpad = "ipad";
	var deviceAndroid = "android";

	//Initialize our user agent string to lower case.
	var uagent = navigator.userAgent.toLowerCase();
	// Detects if the which os the current device is.
	
	// Detects if the current device is an iPhone or an iPod touch
	if ((uagent.search(deviceIpod) > -1) || (uagent.search(deviceIphone) > -1)){
	   // Just replacing the value of the 'content' attribute will not work.
		console.log('Device is iPhone...');
		$("#deviceSpecificCSS").attr("href","css/iosPageDesign.css");
	}
	else // Detects if the current device is an iPad
	if (uagent.search(deviceIpad) > -1){
	   // Just replacing the value of the 'content' attribute will not work.
		console.log('Device is iPad');
		$("#deviceSpecificCSS").attr("href","css/iPadDesign.css");
	}
	// Detects if the current device is Android.
	else if (uagent.search(deviceAndroid) > -1){
	   //Code Here
	   console.log('Device is Andriod');
	   $("#deviceSpecificCSS").attr("href","css/androidPageDesign.css");
	}    
	else{
	   //Code Here
	}
}

//Escapes all chars that screw up the query
	function escapeSqlString(string){
		console.log('In escapeSqlString');
		if(string != null){
			if(string.length>0){

				var result = string.replace(/"/g,'');
				result = result.replace(/'/g,'	');
				result = result.replace("&lt;", ""); 
				result = result.replace(">", ""); 
				return result;
				
			}else{
				return '';	
			}
		}else{
			return '';	
		}	
		
	}

$(document).on('pageinit', function() {	
	//Wait for PhoneGap to load
	document.addEventListener("deviceready", detectDevice(), false);
});

/**
 * Queries the database based on a predefined keyword. 
 * @param {function} callback - To be called with the results. 
 */ 
function genericAjax(callback, data, path){
	if(db.complete){ 
		db.localQuery(data, callback); 
	} else { setTimeout(function(){ db.localQuery(data, callback); }, 500); }
		/* $.ajax({
			url: REMOTE_PATH+path, 
			success: function(data, status, jqXHR){
				callback(jqXHR.responseText, 'internet');  
			},
			type: 'POST',
			data: data
		});	 */
}





</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Index</a></h2><h3>Global</h3><ul><li><a href="global.html#genericAjax">genericAjax</a></li></ul>
</nav>

<br clear="both">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.2.0-dev</a> on Fri Jul 05 2013 07:42:19 GMT-0700 (PDT)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
